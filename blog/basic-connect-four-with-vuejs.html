<!doctype html>
<html>
  <head>
    <title>Building basic Connect Four with Vue.js - rossta.net</title>
<meta name="description" content="Continuing our Connect Four series, we will take a look at converting a static HTML representation of a Connect Four board and add functionality and dynamic rendering with Vue.js." />
<meta name="keywords" content="Vue, SVG, JavaScript" />
<meta name="site" content="rossta.net" />
<meta property="og:site_name" content="rossta.net" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="Ross Kaffenberger" />
<meta name="twitter:description" content="Continuing our Connect Four series, we will take a look at converting a static HTML representation of a Connect Four board and add functionality and dynamic rendering with Vue.js." />
<meta name="twitter:image:src" content="https://rossta.net/assets/images/blog/connect-four-highway.png" />
<meta name="twitter:title" content="Building basic Connect Four with Vue.js" />
<meta property="og:description" content="Continuing our Connect Four series, we will take a look at converting a static HTML representation of a Connect Four board and add functionality and dynamic rendering with Vue.js." />
<meta property="og:image" content="https://rossta.net/assets/images/blog/connect-four-highway.png" />
<meta property="og:title" content="Building basic Connect Four with Vue.js" />
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="pingback" href="https://webmention.io/rossta.net/xmlrpc" />
    <link rel="webmention" href="https://webmention.io/rossta.net/webmention" />

    <script type="text/javascript" src="//use.typekit.net/ned0mml.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link href='/assets/css/0.f62cfb2bc5b697dbb988.css' rel='stylesheet'></link>
  </head>
  <body id="application" class="typekit">
    <nav id="welcome-nav" class="top-bar" data-topbar>
  <ul class="title-area">
    <li class="name">
      <h1><a class="logo" href="/"><img src="/assets/images/turtle-logo.svg" alt="Turtle logo" /><span>rossta.net</span></a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="left">
      <li class="nav"><a href="/blog">blog</a></li>
      <li class="nav"><a href="/series">series</a></li>
      <li class="nav"><a href="/talks">talks</a></li>
      <li class="nav"><a href="/projects">projects</a></li>
      <li class="nav"><a href="/about">about</a></li>
      <li class="nav"><a href="/feed.xml">feed</a></li>
    </ul>
  </section>
</nav>

    <div class="row">
      <section id="main" role="main" class="large-12 small-12 columns">
          <section id="blog" class="margin-bottom double">
    <article class="post margin-bottom double">
      <header class="page-header with-summary">
  <h1>
    Building basic Connect Four with Vue.js
  </h1>
    <h3>
      From static HTML to dynamic rendering of components with Vue.js
    </h3>
</header>


      <p><em>This post is <a href="/blog/series/connect-four.html">part of a series on building Connect Four with Vue.js, SVG, Elixir, and the Phoenix framework</a>.</em></p>

<p>Lately, I&#39;ve gotten excited about the <a href="https://vuejs.org/">Vue.js</a> JavaScript
framework view rendering due to its versatility, low barrier to entry, and
community supported extensions for state management and routing.  In this post,
we&#39;ll use Vue.js 2 to dynamically render the Connect Four game board we started
<a href="/blog/connect-four-with-svg-pattern-masking.html">last time</a>. This
will not be a complete tutorial on Vue.js, but it hopefully will illustrate
some of Vue&#39;s basic concepts and its powerful and intuitive features.
Check out the <a href="https://vuejs.org/v2/guide/">excellent Vue.js guides</a> for a
thorough introduction to the framework.</p>

<p>To see where we&#39;ll end up, here&#39;s a pen:</p>

<p data-height="485" data-theme-id="light" data-slug-hash="eyrMBy" data-default-tab="js,result" data-user="rossta" data-embed-version="2" data-pen-title="Connect Four Vue.js, SVG: first pass" class="codepen">See the Pen <a href="https://codepen.io/rossta/pen/eyrMBy/">Connect Four Vue.js, SVG: first pass</a> by Ross Kaffenberger (<a href="https://codepen.io/rossta">@rossta</a>) on <a href="https://codepen.io">CodePen</a>.</p>

<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<p><hr /></p>

      <h2 id="breaking-it-down" class="title">
        <a name="breaking-it-down" class="anchor" href="#breaking-it-down">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Breaking it down
      </h2>
    
<p>We&#39;ll use Vue.js to convert the static layout, which renders the Connect Four board in SVG with a few checkers in place as shown below:</p>

<pre><code class="html">&lt;!-- board --&gt;
&lt;svg viewBox=&quot;0 0 700 600&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
  &lt;!-- defs for svg pattern masking --&gt;

  &lt;!-- column 0 --&gt;
  &lt;svg x=&quot;0&quot; y=&quot;0&quot;&gt;

    &lt;!-- checker --&gt;
    &lt;circle cx=&quot;50&quot; cy=&quot;550&quot; r=&quot;45&quot; fill=&quot;#254689&quot;&gt;&lt;/circle&gt;

    &lt;rect width=&quot;100&quot; height=&quot;600&quot; fill=&quot;cadetblue&quot; mask=&quot;url(#cell-mask)&quot;&gt;&lt;/rect&gt;
  &lt;/svg&gt;

  &lt;!-- column 1 --&gt;
  &lt;svg x=&quot;100&quot; y=&quot;0&quot;&gt;
    &lt;rect width=&quot;100&quot; height=&quot;600&quot; fill=&quot;cadetblue&quot; mask=&quot;url(#cell-mask)&quot;&gt;&lt;/rect&gt;
  &lt;/svg&gt;

  &lt;!-- and more columns... --&gt;

&lt;/svg&gt;
</code></pre>

<p>It&#39;s easy to spot some repetition. There are a fixed number of columns of
the same dimensions and appearance, each of which may contain checkers. As
Vue.js is a component based framework, we&#39;ll want to break these pieces into logical
units: the game will be composed of a single Board component, which will render
all the Column components, each of which will render their &quot;stack&quot; of Checker
components. Here&#39;s how we might visualize this breakdown:</p>

<p><img src="/assets/images/blog/connect-four-components.png" style="width:70%;margin:2em auto;display:block;" alt="Connect four components" /></p>

<p>Aside from this hierarchy, we also will make an informal distinction to describe
the Board, Column, and Checker: they are &quot;presentation&quot; components.
Notably, their main role is to determine how the app will look. We&#39;ll wrap
the Board in a &quot;container&quot; component, whose main role is to determine how the
app will work. For more on this distinction, check out Dan Abramov&#39;s React article on
<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container
Components</a>.</p>

<p>For our game, a <code>GameContainer</code> component will keep track of and manipulate the key
game state, including adding checkers when a player selects a column, toggling
the player turns, and, later, determine if a player has won the game. Here&#39;s
the complete component hierarchy in Vue/HTML pseudocode:</p>

<pre><code>&lt;game-container&gt; &lt;!-- state: checkers, current player --&gt;
  &lt;game-board :checkers=&quot;checkers&quot;&gt; &lt;!-- state: board dimensions --&gt;
    &lt;board-column v-for=&quot;column in columns&quot; :stack=&quot;stack(column)&quot;&gt;
      &lt;board-checker v-for=&quot;checker in stack&quot;&gt;&lt;/board-checker&gt;
    &lt;/board-column&gt;
  &lt;/game-board&gt;
&lt;/game-container&gt;
</code></pre>

<p>In practice, our presentation components will keep some of their own state and
logic as well, but it will be very specfic to the local concerns of that
component; when a presentation component needs to know about higher level
state, it will be passed in as props from its parent. Any events triggered in
the user interface will be passed back up the heirarchy, eventually reaching
our container; &quot;actions up, data down&quot;. For this first pass, the main action
will be clicking a column in which to drop the next checker.</p>

      <h2 id="the-container" class="title">
        <a name="the-container" class="anchor" href="#the-container">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        The container
      </h2>
    
<p>The <code>GameContainer</code> component be the source of truth for the key game-level
concerns including an object to store the checkers that have been played and
numbers representing row and column (abbreviated throughout the code as <code>col</code>)
counts. For now, we&#39;ll also hardcode the first player to &quot;red&quot;. The
<code>GameContainer</code> markup is simply to render the <code>GameBoard</code>, which will receive
data from the container via props.</p>

<pre><code class="javascript">const GameContainer = Vue.component(&#39;game-container&#39;, {
  data() {
    return {
      checkers: {},
      playerColor: &#39;red&#39;,
      rowCount: 6,
      colCount: 7,
      // ...
    };
  },

  // ...
</code></pre>

<pre><code class="html">&lt;!-- game-container-template --&gt;
&lt;game-board :checkers=&quot;checkers&quot; :rowCount=&quot;rowCount&quot; :colCount=&quot;colCount&quot;&gt;&lt;/game-board&gt;
</code></pre>

<p>Note that I&#39;ve chosen to store checker data in an object, where each checker will be
identified by a key based on its row and column number. Each value in the
<code>checkers</code> object will itself be an object with properties for row, column,
color of a dropped checker, i.e., <code>{ row, col, color }</code>. A common alternative for
storing data in a grid-based game is to use an array of arrays; I personally
have found it easier to represent the grid in a map-like data structure, such
as a JavaScript object, to manipulate, search for, and perform transformations
on game data. Either approach would work for the purpose of this demo—the
mechanics of getting and setting checker data in the <code>GameContainer</code> would just
differ slightly.</p>

      <h2 id="the-board" class="title">
        <a name="the-board" class="anchor" href="#the-board">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        The board
      </h2>
    
<p>The <code>GameBoard</code> has the primary responsibility of defining the dimensions of
the board layout, based off the row and column counts it receives from the
<code>GameContainer</code> and the size of each cell, which will come from local data.
From this data, the board computes board width and height and the radius of
each checker. The <code>GameBoard</code> will also be responsible for filtering the
checkers specific to each column into the correct <code>BoardColumn</code> children
components, as shown in the <code>checkerStack(col)</code> function.</p>

<pre><code class="javascript">const GameBoard = Vue.component(&#39;game-board&#39;, {
  data() {
    return {
      cellSize: 100,
    };
  },

  computed: {
    cols() { return range(this.colCount); },

    boardWidth() { return this.colCount * this.cellSize; },
    boardHeight() { return this.rowCount * this.cellSize; },
    checkerRadius() { return this.cellSize * 0.45; },

    // ...
  },

  methods: {
    checkerStack(col) {
      return Object.values(this.checkers).filter(c =&gt; c.col === col);
    },
  },

  // ...
</code></pre>

<p>A neat trick here is to use a custom <code>range</code> function that converts the
<code>colCount</code> into a list of <code>0..colCount-1</code> to identify the columns, using the
spread operator and the <code>Array.prototype.keys</code> function:</p>

<pre><code>const range = num =&gt; [...Array(num).keys()];
// range(7)
// [0, 1, 2, 3, 4, 5, 6]
</code></pre>

<p>In the <code>GameBoard</code> template, we&#39;re able convert the hard-coded width, height,
, x, and y positions of our original SVG layout to dynamic properties. The
<code>GameBoard</code> also renders each of the <code>BoardColumn</code> components using the <code>v-for</code>
directive on our <code>col</code> range, again, passing key game state and checker data
as props. The props also include the url to the pattern <code>&lt;mask&gt;</code> that will
give the columns the transparent portholes, as discussed in the <a href="/blog/connect-four-with-svg-pattern-masking.html">previous
post</a>.</p>

<pre><code>&lt;!-- game-board-template --&gt;
&lt;svg :viewBox=&quot;`0 0 ${boardWidth} ${boardHeight}`&quot;
  xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
  &lt;defs&gt;
    &lt;pattern :id=&quot;patternId&quot; :width=&quot;cellSize&quot; :height=&quot;cellSize&quot;
      patternUnits=&quot;userSpaceOnUse&quot;&gt;
      &lt;circle :cx=&quot;cellSize / 2&quot; :cy=&quot;cellSize / 2&quot; :r=&quot;checkerRadius&quot; fill=&quot;black&quot;&gt;&lt;/circle&gt;
    &lt;/pattern&gt;
    &lt;mask :id=&quot;maskId&quot;&gt;
      &lt;rect :width=&quot;cellSize&quot; :height=&quot;boardHeight&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;
      &lt;rect :width=&quot;cellSize&quot; :height=&quot;boardHeight&quot; :fill=&quot;pattern&quot;&gt;&lt;/rect&gt;
    &lt;/mask&gt;
  &lt;/defs&gt;
  &lt;board-column
    v-for=&quot;col in cols&quot;
    :checkers=&quot;checkerStack(col)&quot;
    :col=&quot;col&quot;
    :mask=&quot;mask&quot;
    ...  /&gt;
&lt;/svg&gt;
</code></pre>

<p>For more on the <code>&lt;defs&gt;</code>, <code>&lt;pattern&gt;</code>, and <code>&lt;mask&gt;</code> elements, see the previous
article on <a href="/blog/connect-four-with-svg-pattern-masking.html">SVG pattern
masking</a>.</p>

      <h2 id="the-columns" class="title">
        <a name="the-columns" class="anchor" href="#the-columns">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        The columns
      </h2>
    
<p>Now on to the <code>BoardColumn</code> component and its template. It is responsible for
rendering the pattern-masked <code>&lt;rect&gt;</code> and any checkers dropped in its column.
By wrapping the <code>BoardColumn</code> in a nested <code>&lt;svg&gt;</code> element with an x value based
off <code>col * cellSize</code>, the rendered child elements of the <code>BoardColumn</code> will be
positioned relatively within. Note how straightforward it is to add a click
listener to our template where we&#39;ll trigger a <code>drop</code> method on the
<code>BoardColumn</code> instance.</p>

<pre><code>&lt;!-- board-column-template --&gt;
&lt;svg :x=&quot;col * cellSize&quot; y=&quot;0&quot;&gt;
  &lt;g @click=&quot;drop&quot; class=&quot;column&quot;&gt;
    &lt;board-checker
      v-for=&quot;checker in checkers&quot;
      :checker=&quot;checker&quot;
      :cellSize=&quot;cellSize&quot;
      :rowCount=&quot;rowCount&quot;
      ...  /&gt;
    &lt;rect :width=&quot;cellSize&quot; :height=&quot;boardHeight&quot; :fill=&quot;color&quot; :mask=&quot;mask&quot; /&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</code></pre>

<p>Let&#39;s check out that <code>drop</code> method on <code>BoardColumn</code>.</p>

<pre><code class="javascript">const BoardColumn = Vue.component(&#39;board-column&#39;, {
  computed: {
    // Find the current max occupied row and add 1
    nextOpenRow() {
      return Math.max(...this.checkers.map(c =&gt; c.row).concat(-1)) + 1;
    },
  },

  methods: {
    drop(col) {
      const row = this.nextOpenRow;

      if (row &lt; this.rowCount) {
        this.$emit(&#39;drop&#39;, { row, col });
      } else {
        console.log(&#39;cannot drop&#39;, { row, col });
      }
    },
  },
});

</code></pre>

<p>The method&#39;s responsibility is to trigger a <code>&#39;drop&#39;</code> event up the component hierarchy
with data for <code>{ row, col }</code>. This will indicate an attempt has been made to drop
a checker at that position. To accomplish this, it calculates the next
available row in the <code>nextOpenRow</code> function. If the next open row would be off
the board, then the column is full and the attempt is swallowed. We calculate
<code>nextOpenRow</code> by finding the max row number in the stack and adding one. If the
checker stack is empty in this column, then the result will be <code>0</code>, which is
where we&#39;d want the first checker to land.</p>

      <h2 id="updating-game-state" class="title">
        <a name="updating-game-state" class="anchor" href="#updating-game-state">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Updating game state
      </h2>
    
<p>Note this constitues some game logic so we&#39;re cheating a little given our
presentation/container distinction noted earlier; it may make more sense to
push this logic to our <code>GameContainer</code> later, but for now, it&#39;s convenient to
leave it here. As we&#39;ll see later, the <code>GameContainer</code> will respond to this
event and do the work to update the <code>checkers</code> map for the game.</p>

<p>Back in the <code>GameContainer</code>, an emitted <code>drop</code> event with <code>{ row, col }</code> data is
captured here, where the game will add the current player&#39;s <code>color</code> as
property, update the <code>checkers</code> object, and toggle the color for the next
player.</p>

<pre><code class="javascript">const GameContainer = Vue.component(&#39;game-container&#39;, {
  methods: {
    toggleColor() {
      if (this.playerColor === RED) {
        this.playerColor = BLACK;
      } else {
        this.playerColor = RED;
      }
    },

    drop({ col, row }) {
      const color = this.playerColor;

      console.log(&#39;setting checker&#39;, key(row, col), { row, col, color });
      Vue.set(this.checkers, key(row, col), { row, col, color });
      this.toggleColor();
    },

    // ...
  },

  // ...
});
</code></pre>

<p>Note an important gotcha when using <code>Vue.js</code> demonstrated here: we need to use
<code>Vue.set</code> when adding a new checker to the <code>checkers</code> object. Vue needs to hook
into getters/setters to track dependencies and propagate data changes
throughout the application. Unfortunately, because of how JavaScript works,
<em>Vue can&#39;t detect property addition or deletion</em>. This affects how we
adding checkers to the underlying data structure during game play. By using
<code>Vue.set</code>, we ensure the data change results in rendering the new checker
on the game board.</p>

      <h2 id="the-checkers" class="title">
        <a name="the-checkers" class="anchor" href="#the-checkers">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        The checkers
      </h2>
    
<p>To render the checkers, we have a <code>BoardChecker</code> component. It is simply a <code>&lt;circle&gt;</code> element.</p>

<pre><code>&lt;!-- board-checker-template --&gt;
&lt;circle :cx=&quot;centerX&quot; :cy=&quot;centerY&quot; :r=&quot;checkerRadius&quot; :fill=&quot;adjustedColor&quot; /&gt;
</code></pre>

<p>The <code>cx</code> and <code>cy</code> properties are computed based on the <code>checker</code> object&#39;s <code>row</code> and the <code>cellSize</code> and <code>rowCount</code> properties passed in from the parent column. We translate the canonical red/black color names to prettier hex colors to fill each <code>&lt;circle&gt;</code>.</p>

<pre><code>const BoardChecker = Vue.component(&#39;board-checker&#39;, {
  data() {
    return {
      colorHexes: {
        red: &#39;#FC7E69&#39;,
        black: &#39;#254689&#39;,
      },
    };
  },

  computed: {
    row() { return this.checker.row; },
    col() { return this.checker.col; },
    color() { return this.checker.color; },

    adjustedColor() {
      return this.colorHexes[this.color];
    },

    centerX() {
      return (this.cellSize / 2);
    },

    centerY() {
      return (this.cellSize / 2) + (this.cellSize * (this.rowCount - 1 - this.row));
    },
  },
});
</code></pre>

<p>Again, here&#39;s a link to <a href="https://codepen.io/rossta/pen/jYxxGv?editors=1010">the pen on
codepen.io</a> where you can
see the full source code and try out the game for yourself.</p>

<p>This completes our first pass at using Vue.js to create a playable Connect Four
game in the browser. We&#39;re not yet detecting a game win or draw; that&#39;s still
to come. In <a href="/blog/animating-connect-four-with-vuejs.html">the next post</a>, we use Vue to animate each checker falling into
place as they are added to the board.</p>

    </article>

    <section class="signup-form-standalone margin-bottom quadruple">
      <script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
<form
  action="https://app.convertkit.com/forms/818387/subscriptions?ref=Vue"
  class="seva-form formkit-form"
  method="post"
  data-sv-form="818387"
  data-uid="cda82aafbf"
  data-format="inline"
  data-version="5"
  data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:&quot;300&quot;,&quot;devices&quot;:null,&quot;show_once_every&quot;:&quot;7&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:null,&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null}}}"
  min-width="400 500 600 700 800"
>
  <div data-style="clean">
      <h3>
  Did you like this post?
</h3>
<p>
  Please
  <a href="https://twitter.com/intent/tweet?text=Building%20basic%20Connect%20Four%20with%20Vue.js&amp;url=https%3A%2F%2Frossta.net%2Fblog%2Fbasic-connect-four-with-vuejs.html" target="_blank" rel="noopener">share it on Twitter</a>
  and enter your email below to subscribe to my newsletter on
  Vue, SVG, JavaScript, and the web. Thank you!
</p>

    <ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul>
    <div data-element="fields" data-stacked="false" class="seva-fields formkit-fields">
      <div class="formkit-field">
        <input
          class="formkit-input"
          name="email_address"
          placeholder="Your email address"
          required=""
          type="text"
          style="border-color: rgb(227, 227, 227); border-radius: 4px; color: rgb(0, 0, 0); font-weight: 400;"
        />
      </div>
      <button
        data-element="submit"
        class="formkit-submit formkit-submit"
        style="background-color: rgb(22, 119, 190); border-radius: 4px; color: rgb(255, 255, 255); font-weight: 400;"
      >
        <div class="formkit-spinner">
          <div></div>
          <div></div>
          <div></div>
        </div>
        <span>Subscribe</span>
      </button>
    </div>
    <a
      href="https://convertkit.com/?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form"
      class="formkit-powered-by"
      data-element="powered-by"
      target="_blank"
      rel="noopener noreferrer"
      >Powered By ConvertKit</a
    >
  </div>
  <style>
    .formkit-form[data-uid='cda82aafbf'] * {
      font-family: 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;
      box-sizing: border-box;
    }
    .formkit-form[data-uid='cda82aafbf'] legend {
      border: none;
      font-size: inherit;
      margin-bottom: 10px;
      padding: 0;
      position: relative;
      display: table;
    }
    .formkit-form[data-uid='cda82aafbf'] fieldset {
      border: 0;
      padding: 0.01em 0 0 0;
      margin: 0;
      min-width: 0;
    }
    .formkit-form[data-uid='cda82aafbf'] body:not(:-moz-handler-blocked) fieldset {
      display: table-cell;
    }

    .formkit-form[data-uid='cda82aafbf'][data-format='modal'] {
      display: none;
    }
    .formkit-form[data-uid='cda82aafbf'][data-format='slide in'] {
      display: none;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input,
    .formkit-form[data-uid='cda82aafbf'] .formkit-select,
    .formkit-form[data-uid='cda82aafbf'] .formkit-checkboxes {
      width: 100%;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-button,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit {
      border: 0;
      border-radius: 5px;
      color: #ffffff;
      cursor: pointer;
      display: inline-block;
      text-align: center;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      margin-bottom: 15px;
      overflow: hidden;
      padding: 0;
      position: relative;
      vertical-align: middle;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-button:hover,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit:hover,
    .formkit-form[data-uid='cda82aafbf'] .formkit-button:focus,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit:focus {
      outline: none;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-button:hover > span,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit:hover > span,
    .formkit-form[data-uid='cda82aafbf'] .formkit-button:focus > span,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit:focus > span {
      background-color: rgba(0, 0, 0, 0.1);
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-button > span,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit > span {
      display: block;
      -webkit-transition: all 300ms ease-in-out;
      transition: all 300ms ease-in-out;
      padding: 12px 24px;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input {
      background: #ffffff;
      font-size: 15px;
      padding: 12px;
      border: 1px solid #e3e3e3;
      -webkit-flex: 1 0 auto;
      -ms-flex: 1 0 auto;
      flex: 1 0 auto;
      line-height: 1.4;
      margin: 0;
      -webkit-transition: border-color ease-out 300ms;
      transition: border-color ease-out 300ms;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input:focus {
      outline: none;
      border-color: #1677be;
      -webkit-transition: border-color ease 300ms;
      transition: border-color ease 300ms;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input::-webkit-input-placeholder {
      color: #848585;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input::-moz-placeholder {
      color: #848585;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input:-ms-input-placeholder {
      color: #848585;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-input::placeholder {
      color: #848585;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='dropdown'] {
      position: relative;
      display: inline-block;
      width: 100%;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='dropdown']::before {
      content: '';
      top: calc(50% - 2.5px);
      right: 10px;
      position: absolute;
      pointer-events: none;
      border-color: #4f4f4f transparent transparent transparent;
      border-style: solid;
      border-width: 6px 6px 0 6px;
      height: 0;
      width: 0;
      z-index: 999;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='dropdown'] select {
      height: auto;
      width: 100%;
      cursor: pointer;
      color: #333333;
      line-height: 1.4;
      margin-bottom: 0;
      padding: 0 6px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      font-size: 15px;
      padding: 12px;
      padding-right: 25px;
      border: 1px solid #e3e3e3;
      background: #ffffff;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='dropdown'] select:focus {
      outline: none;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='checkboxes'] {
      text-align: left;
      margin: 0;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='checkboxes'] [data-group='checkbox'] {
      margin-bottom: 10px;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='checkboxes'] [data-group='checkbox'] * {
      cursor: pointer;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']:last-of-type {
      margin-bottom: 0;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      input[type='checkbox'] {
      display: none;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      input[type='checkbox']
      + label::after {
      content: none;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      input[type='checkbox']:checked
      + label::after {
      border-color: #ffffff;
      content: '';
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      input[type='checkbox']:checked
      + label::before {
      background: #10bf7a;
      border-color: #10bf7a;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-group='checkboxes'] [data-group='checkbox'] label {
      position: relative;
      display: inline-block;
      padding-left: 28px;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      label::before,
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      label::after {
      position: absolute;
      content: '';
      display: inline-block;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      label::before {
      height: 16px;
      width: 16px;
      border: 1px solid #e3e3e3;
      background: #ffffff;
      left: 0px;
      top: 3px;
    }
    .formkit-form[data-uid='cda82aafbf']
      [data-group='checkboxes']
      [data-group='checkbox']
      label::after {
      height: 4px;
      width: 8px;
      border-left: 2px solid #4d4d4d;
      border-bottom: 2px solid #4d4d4d;
      -webkit-transform: rotate(-45deg);
      -ms-transform: rotate(-45deg);
      transform: rotate(-45deg);
      left: 4px;
      top: 8px;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-alert {
      background: #f9fafb;
      border: 1px solid #e3e3e3;
      border-radius: 5px;
      -webkit-flex: 1 0 auto;
      -ms-flex: 1 0 auto;
      flex: 1 0 auto;
      list-style: none;
      margin: 25px auto;
      padding: 12px;
      text-align: center;
      width: 100%;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-alert:empty {
      display: none;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-alert-success {
      background: #d3fbeb;
      border-color: #10bf7a;
      color: #0c905c;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-alert-error {
      background: #fde8e2;
      border-color: #f2643b;
      color: #ea4110;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-spinner {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      height: 0px;
      width: 0px;
      margin: 0 auto;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 0px;
      overflow: hidden;
      text-align: center;
      -webkit-transition: all 300ms ease-in-out;
      transition: all 300ms ease-in-out;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-spinner > div {
      margin: auto;
      width: 12px;
      height: 12px;
      background-color: #fff;
      opacity: 0.3;
      border-radius: 100%;
      display: inline-block;
      -webkit-animation: formkit-bouncedelay-formkit-form-data-uid-cda82aafbf- 1.4s infinite
        ease-in-out both;
      animation: formkit-bouncedelay-formkit-form-data-uid-cda82aafbf- 1.4s infinite ease-in-out
        both;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-spinner > div:nth-child(1) {
      -webkit-animation-delay: -0.32s;
      animation-delay: -0.32s;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-spinner > div:nth-child(2) {
      -webkit-animation-delay: -0.16s;
      animation-delay: -0.16s;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit[data-active] .formkit-spinner {
      opacity: 1;
      height: 100%;
      width: 50px;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit[data-active] .formkit-spinner ~ span {
      opacity: 0;
    }
    @-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-cda82aafbf- {
      0%,
      80%,
      100% {
        -webkit-transform: scale(0);
        -ms-transform: scale(0);
        transform: scale(0);
      }
      40% {
        -webkit-transform: scale(1);
        -ms-transform: scale(1);
        transform: scale(1);
      }
    }
    @keyframes formkit-bouncedelay-formkit-form-data-uid-cda82aafbf- {
      0%,
      80%,
      100% {
        -webkit-transform: scale(0);
        -ms-transform: scale(0);
        transform: scale(0);
      }
      40% {
        -webkit-transform: scale(1);
        -ms-transform: scale(1);
        transform: scale(1);
      }
    }
    .formkit-form[data-uid='cda82aafbf'] {
      max-width: 700px;
    }
    .formkit-form[data-uid='cda82aafbf'] [data-style='clean'] {
      width: 100%;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-fields {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-flex-wrap: wrap;
      -ms-flex-wrap: wrap;
      flex-wrap: wrap;
      margin: 0 auto;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-field,
    .formkit-form[data-uid='cda82aafbf'] .formkit-submit {
      margin: 0 0 15px 0;
      -webkit-flex: 1 0 100%;
      -ms-flex: 1 0 100%;
      flex: 1 0 100%;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-powered-by {
      color: #7d7d7d;
      display: block;
      font-size: 12px;
      margin: 0;
      text-align: center;
    }
    .formkit-form[data-uid='cda82aafbf'] .formkit-powered-by[data-active='false'] {
      opacity: 0.5;
    }
    .formkit-form[data-uid='cda82aafbf'][min-width~='700'] [data-style='clean'],
    .formkit-form[data-uid='cda82aafbf'][min-width~='800'] [data-style='clean'] {
      padding: 10px;
    }
    .formkit-form[data-uid='cda82aafbf'][min-width~='700'] .formkit-fields[data-stacked='false'],
    .formkit-form[data-uid='cda82aafbf'][min-width~='800'] .formkit-fields[data-stacked='false'] {
      margin-left: -5px;
      margin-right: -5px;
    }
    .formkit-form[data-uid='cda82aafbf'][min-width~='700']
      .formkit-fields[data-stacked='false']
      .formkit-field,
    .formkit-form[data-uid='cda82aafbf'][min-width~='800']
      .formkit-fields[data-stacked='false']
      .formkit-field,
    .formkit-form[data-uid='cda82aafbf'][min-width~='700']
      .formkit-fields[data-stacked='false']
      .formkit-submit,
    .formkit-form[data-uid='cda82aafbf'][min-width~='800']
      .formkit-fields[data-stacked='false']
      .formkit-submit {
      margin: 0 5px 15px 5px;
    }
    .formkit-form[data-uid='cda82aafbf'][min-width~='700']
      .formkit-fields[data-stacked='false']
      .formkit-field,
    .formkit-form[data-uid='cda82aafbf'][min-width~='800']
      .formkit-fields[data-stacked='false']
      .formkit-field {
      -webkit-flex: 100 1 auto;
      -ms-flex: 100 1 auto;
      flex: 100 1 auto;
    }
    .formkit-form[data-uid='cda82aafbf'][min-width~='700']
      .formkit-fields[data-stacked='false']
      .formkit-submit,
    .formkit-form[data-uid='cda82aafbf'][min-width~='800']
      .formkit-fields[data-stacked='false']
      .formkit-submit {
      -webkit-flex: 1 1 auto;
      -ms-flex: 1 1 auto;
      flex: 1 1 auto;
    }
  </style>
    <input type="hidden" name="tags[]" value="733963" />
    <input type="hidden" name="tags[]" value="" />
    <input type="hidden" name="tags[]" value="733959" />
  <input type="hidden" aria-label="URL" name="fields[url]" placeholder="URL" value="https://rossta.net/blog/2018-01-15-basic-connect-four-with-vuejs.html" />
</form>


    </section>
    <article>
        <figure>
          <img src="/assets/images/blog/connect-four-highway.png" alt="Connect four highway" />
            <figcaption>Background Photo by Amanda Sandlin on Unsplash</figcaption>
        </figure>
    </article>
    <section class="margin-bottom double">
      <p>
          Part of the <a href="/blog/series/connect-four.html">Connect Four</a> series.
        Published on Jan 15, 2018
      </p>
    </section>
  </section>
    <hr />
    <section class="comments">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname  = "rosskaff";
    var disqus_identifier = "basic-connect-four-with-vuejs";
    var disqus_title      = "Building basic Connect Four with Vue.js";
    var disqus_url        = "https://rossta.net/blog/basic-connect-four-with-vuejs.html";

    var disqus_config = function () {
        this.page.url = disqus_url;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        this.page.title = disqus_title;
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//rosskaff.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<!-- <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </section>

      </section>
    </div>
    
    <footer>
  <div class="row">
    <img src="/assets/images/turtle-logo.svg" class="turtle" alt="Turtle logo" />
    <section class="large-6 columns">
      <h5>Most Popular</h5>
      <ul>
          <li><a href="/blog/building-a-pdf-viewer-with-vue-part-1.html">Rendering PDF pages with PDF.js and Vue</a></li>
          <li><a href="/blog/local-ssl-for-rails-5.html">Local SSL for Rails 5 development and tests</a></li>
          <li><a href="/blog/from-sprockets-to-webpack.html">How we switched from Sprockets to Webpack</a></li>
          <li><a href="/blog/web-push-notifications-from-rails.html">Sending Web Push Notifications from Rails</a></li>
          <li><a href="/blog/how-to-specify-local-ruby-gems-in-your-gemfile.html">How to specify local Ruby gems in your Gemfile</a></li>
      </ul>
    </section>
    <section class="large-3 columns">
      <h5>Categories</h5>
      <ul>
          <li><a href="/blog/tags/ruby.html">Ruby</a></li>
          <li><a href="/blog/tags/rails.html">Rails</a></li>
          <li><a href="/blog/tags/javascript.html">JavaScript</a></li>
          <li><a href="/blog/tags/vue.html">Vue</a></li>
          <li><a href="/blog/tags/service-worker.html">Service Worker</a></li>
      </ul>
    </section>
    <section class="large-3 columns">
      <h5>Contact</h5>
      <ul>
        <li><a href="mailto:ross@rossta.net" rel="me noopener">email</a></li>
        <li><a href="https://twitter.com/rossta" rel="me noopener">twitter</a></li>
        <li><a href="https://medium.com/@rossta" rel="me noopener">medium</a></li>
        <li><a href="https://github.com/rossta" rel="me noopener">github</a></li>
        <!-- <li><a href="https://stackoverflow.com/users/771838/rossta?tab=profile" rel="me">stackoverflow</a></li> -->
        <li><a href="https://www.linkedin.com/in/rosskaffenberger" rel="me noopener">linkedin</a></li>
      </ul>
    </section>
  </div>
  <p class="copyright small subtle center">
    © 2019 Ross Kaffenberger. All rights reserved.
  </p>
</footer>

    <script src='/assets/js/runtime.e51a7f3543703a527230.js'></script><script src='/assets/js/vendors~app.chunk.2e9c881ffb21cefe97a3.js'></script><script src='/assets/js/app.chunk.757dbd04772ca3a6e187.js'></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-16458563-2"></script>
<script type="text/javascript">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-16458563-2');
</script>

  </body>
</html>
